From ed97ba07f3dee878aca7c5f0d802fd6d75e36704 Mon Sep 17 00:00:00 2001
From: Jussi Pakkanen <jpakkane@gmail.com>
Date: Sat, 8 Oct 2016 11:17:22 -0400
Subject: [PATCH 12/16] Show error log options in help.

(cherry picked from commit e2b3752f875754abcc3981754505ae0db9e18155)
---
 mesonbuild/coredata.py  | 2 +-
 mesonbuild/mesonmain.py | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/mesonbuild/coredata.py b/mesonbuild/coredata.py
index 51bf107..b32a257 100644
--- a/mesonbuild/coredata.py
+++ b/mesonbuild/coredata.py
@@ -224,7 +224,7 @@ builtin_options = {
         'default_library'   : [ UserComboOption, 'Default library type.', [ 'shared', 'static' ], 'shared' ],
         'backend'           : [ UserComboOption, 'Backend to use.', backendlist, 'ninja' ],
         'stdsplit'          : [ UserBooleanOption, 'Split stdout and stderr in test logs.', True ],
-        'errorlogs'         : [ UserBooleanOption, "Whether to print the logs from failing tests.", False ],
+        'errorlogs'         : [ UserBooleanOption, "Whether to print the logs from failing tests.", True ],
         }
 
 forbidden_target_names = {'clean': None,
diff --git a/mesonbuild/mesonmain.py b/mesonbuild/mesonmain.py
index f7da1e0..6374c41 100644
--- a/mesonbuild/mesonmain.py
+++ b/mesonbuild/mesonmain.py
@@ -54,6 +54,8 @@ add_builtin_argument('werror', action='store_true')
 add_builtin_argument('layout')
 add_builtin_argument('default-library')
 add_builtin_argument('warnlevel', dest='warning_level')
+add_builtin_argument('stdsplit', action='store_false')
+add_builtin_argument('errorlogs', action='store_false')
 
 parser.add_argument('--cross-file', default=None,
                     help='File describing cross compilation environment.')
-- 
2.10.1

